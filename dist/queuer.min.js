!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.queuer=t():e.queuer=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},i=r(n(1)),o=n(2).EventEmitter,s=n(3).Promise;e.exports=function(){var e=[],t=function(n){return new s(function(r,i){var o=!1;t.once(t.EVENT_CANCEL,function(){o=!0,i(new Error("canceled"))}),e.reduce(function(e,n){return e.then(function(e){if(o)throw new Error("canceled");return t.emit(t.EVENT_TASK_START,n.name,e),s.resolve().then(function(){return n.callback(e,t)}).then(function(e){return t.emit(t.EVENT_TASK_STOP,n.name,e),e},function(e){throw t.emit(t.EVENT_TASK_ERROR,n.name,e),e})})},s.resolve(n)).then(r)["catch"](function(e){o||i(e)})})};return i(t,o.prototype,{EVENT_TASK_START:"EVENT_TASK_START",EVENT_TASK_STOP:"EVENT_TASK_STOP",EVENT_TASK_ERROR:"EVENT_TASK_ERROR",EVENT_CANCEL:"EVENT_CANCEL",cancel:function(){t.emit.apply(t,[t.EVENT_CANCEL].concat([].slice.apply(arguments)))},task:function(t,n){return e.push({name:t,callback:n})}})}},function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var n,i,o=r(e),s=1;s<arguments.length;s++){n=arguments[s],i=Object.keys(Object(n));for(var u=0;u<i.length;u++)o[i[u]]=n[i[u]]}return o}},function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,c,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],u(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),c=1;r>c;c++)o[c-1]=arguments[c];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),c=1;r>c;c++)o[c-1]=arguments[c];for(a=n.slice(),r=a.length,c=0;r>c;c++)a[c].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var n;n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,u;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(u=o;u-->0;)if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},function(e,t,n){var r;(function(e,i,o,s){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   2.3.0
	 */
(function(){"use strict";function u(e){return"function"==typeof e||"object"==typeof e&&null!==e}function c(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function l(e){G=e}function f(e){X=e}function h(){var t=e.nextTick,n=e.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(t=i),function(){t(d)}}function p(){return function(){B(d)}}function v(){var e=0,t=new te(d),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function _(){var e=new MessageChannel;return e.port1.onmessage=d,function(){e.port2.postMessage(0)}}function m(){return function(){setTimeout(d,1)}}function d(){for(var e=0;Q>e;e+=2){var t=ie[e],n=ie[e+1];t(n),ie[e]=void 0,ie[e+1]=void 0}Q=0}function y(){try{var e=n(7);return B=e.runOnLoop||e.runOnContext,p()}catch(t){return m()}}function g(){}function w(){return new TypeError("You cannot resolve a promise with itself")}function T(){return new TypeError("A promises callback cannot return that same promise.")}function E(e){try{return e.then}catch(t){return ce.error=t,ce}}function b(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function A(e,t,n){X(function(e){var r=!1,i=b(n,t,function(n){r||(r=!0,t!==n?S(e,n):N(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,k(e,i))},e)}function L(e,t){t._state===se?N(e,t._result):t._state===ue?k(e,t._result):O(t,void 0,function(t){S(e,t)},function(t){k(e,t)})}function x(e,t){if(t.constructor===e.constructor)L(e,t);else{var n=E(t);n===ce?k(e,ce.error):void 0===n?N(e,t):c(n)?A(e,t,n):N(e,t)}}function S(e,t){e===t?k(e,w()):u(t)?x(e,t):N(e,t)}function j(e){e._onerror&&e._onerror(e._result),I(e)}function N(e,t){e._state===oe&&(e._result=t,e._state=se,0!==e._subscribers.length&&X(I,e))}function k(e,t){e._state===oe&&(e._state=ue,e._result=t,X(j,e))}function O(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+se]=n,i[o+ue]=r,0===o&&e._state&&X(I,e)}function I(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?V(n,r,i,o):i(o);e._subscribers.length=0}}function C(){this.error=null}function P(e,t){try{return e(t)}catch(n){return ae.error=n,ae}}function V(e,t,n,r){var i,o,s,u,a=c(n);if(a){if(i=P(n,r),i===ae?(u=!0,o=i.error,i=null):s=!0,t===i)return void k(t,T())}else i=r,s=!0;t._state!==oe||(a&&s?S(t,i):u?k(t,o):e===se?N(t,i):e===ue&&k(t,i))}function R(e,t){try{t(function(t){S(e,t)},function(t){k(e,t)})}catch(n){k(e,n)}}function M(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(g),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?N(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&N(n.promise,n._result))):k(n.promise,n._validationError())}function K(e){return new le(this,e).promise}function F(e){function t(e){S(i,e)}function n(e){k(i,e)}var r=this,i=new r(g);if(!J(e))return k(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,s=0;i._state===oe&&o>s;s++)O(r.resolve(e[s]),void 0,t,n);return i}function U(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return S(n,e),n}function Y(e){var t=this,n=new t(g);return k(n,e),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function W(e){this._id=_e++,this._state=void 0,this._result=void 0,this._subscribers=[],g!==e&&(c(e)||q(),this instanceof W||D(),R(this,e))}function $(){var e;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=me)}var z;z=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var B,G,H,J=z,Q=0,X=({}.toString,function(e,t){ie[Q]=e,ie[Q+1]=t,Q+=2,2===Q&&(G?G(d):H())}),Z="undefined"!=typeof window?window:void 0,ee=Z||{},te=ee.MutationObserver||ee.WebKitMutationObserver,ne="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),re="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ie=new Array(1e3);H=ne?h():te?v():re?_():void 0===Z?y():m();var oe=void 0,se=1,ue=2,ce=new C,ae=new C;M.prototype._validateInput=function(e){return J(e)},M.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},M.prototype._init=function(){this._result=new Array(this.length)};var le=M;M.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===oe&&t>i;i++)e._eachEntry(r[i],i)},M.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;a(e)?e.constructor===r&&e._state!==oe?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},M.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===oe&&(r._remaining--,e===ue?k(i,n):r._result[t]=n),0===r._remaining&&N(i,r._result)},M.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,function(e){n._settledAt(se,t,e)},function(e){n._settledAt(ue,t,e)})};var fe=K,he=F,pe=U,ve=Y,_e=0,me=W;W.all=fe,W.race=he,W.resolve=pe,W.reject=ve,W._setScheduler=l,W._setAsap=f,W._asap=X,W.prototype={constructor:W,then:function(e,t){var n=this,r=n._state;if(r===se&&!e||r===ue&&!t)return this;var i=new this.constructor(g),o=n._result;if(r){var s=arguments[r-1];X(function(){V(r,i,s,o)})}else O(n,i,e,t);return i},"catch":function(e){return this.then(null,e)}};var de=$,ye={Promise:me,polyfill:de};n(8).amd?(r=function(){return ye}.call(t,n,t,s),!(void 0!==r&&(s.exports=r))):"undefined"!=typeof s&&s.exports?s.exports=ye:"undefined"!=typeof this&&(this.ES6Promise=ye),de()}).call(this)}).call(t,n(4),n(5).setImmediate,function(){return this}(),n(6)(e))},function(e,t,n){function r(){l=!1,u.length?a=u.concat(a):f=-1,a.length&&i()}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=a.length;t;){for(u=a,a=[];++f<t;)u[f].run();f=-1,t=a.length}u=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}var u,c=e.exports={},a=[],l=!1,f=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new o(e,t)),l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t,n){(function(e,r){function i(e,t){this._id=e,this._clearFn=t}var o=n(4).nextTick,s=Function.prototype.apply,u=Array.prototype.slice,c={},a=0;t.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=a++,r=arguments.length<2?!1:u.call(arguments,1);return c[n]=!0,o(function(){c[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(t,n(5).setImmediate,n(5).clearImmediate)},function(e,t,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){},function(e,t,n){e.exports=function(){throw new Error("define cannot be used indirect")}}])});